{% extends 'property/layout/base.html' %} {% load static %}
{% block content %}
<div class="hero">
    <div class="hero-slide">
      <div
        class="img overlay"
        style="background-image: url('../../static/images/hero_bg_3.jpg')"
      ></div>
      <div
        class="img overlay"
        style="background-image: url('../../static/images/hero_bg_2.jpg')"
      ></div>
      <div
        class="img overlay"
        style="background-image: url('../../static/images/hero_bg_1.jpg')"
      ></div>
    </div>

    <div class="container">
      <div class="row justify-content-center align-items-center">
        <div class="col-lg-9 text-center">
          <h1 class="heading" data-aos="fade-up">
            Easiest way to find your dream home
          </h1>
          <form
            action="{% url 'property_search' %}"
            method="GET"
            class="narrow-w form-search d-flex align-items-stretch mb-3"
            data-aos="fade-up"
            data-aos-delay="200"
          >
            <input
              type="text"
              name="q"
              class="form-control px-4"
              placeholder="Your ZIP code or City. e.g. Ngong"
            />
            <button type="submit" class="btn btn-primary">Search</button>
          </form>
        </div>
      </div>
    </div>
  </div>

  <div class="section">
    <div class="container">
        <div class="row mb-5 align-items-center">
            <div class="col-lg-6">
                <h2 class="font-weight-bold text-primary heading">Popular Properties</h2>
            </div>
            <div class="col-lg-6 text-lg-end">
                <p>
                    <a href="{% url 'properties' %}" class="btn btn-primary text-white py-3 px-4">View all properties</a>
                </p>
            </div>
        </div>
        <div class="row">
            <div class="col-12">
                <div class="property-slider-wrap" style="padding-bottom: 0">
                    <div class="property-slider">
                        {% for property in properties %}
                        <div class="col-lg-4 col-md-6 mb-4">
                            <div class="property-item">
                                <a href="{% url 'single_listing' property.property_id %}" class="img">
                                    {% if property.primary_photo %}
                                        <img src="{{ property.primary_photo.url }}" alt="Image" class="img-fluid" />
                                    {% else %}
                                        <img src="{% static 'images/default_image.jpg' %}" alt="Default Image" class="img-fluid" />
                                    {% endif %}
                                </a>
                                <div class="property-content">
                                    <div class="price mb-2"><span>KES {{ property.price }}</span></div>
                                    <div>
                                        <span class="city d-block mb-3">{{ property.title }}</span>
                                        <span class="d-block mb-2 text-black-50">{{ property.location }}</span>
                                        <div class="specs d-flex mb-4">
                                            <span class="d-block d-flex align-items-center me-3">
                                                <span class="icon-bed me-2"></span>
                                                <span class="caption">{{ property.bedrooms }} beds</span>
                                            </span>
                                            <span class="d-block d-flex align-items-center">
                                                <span class="icon-bath me-2"></span>
                                                <span class="caption">{{ property.bathrooms }} baths</span>
                                            </span>
                                        </div>
                                        <a href="{% url 'single_listing' property.property_id %}" class="btn btn-primary py-2 px-3">See details</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                    <!--<div id="property-nav" class="controls" tabindex="0" aria-label="Carousel Navigation">
                        <span class="prev" data-controls="prev" aria-controls="property" tabindex="-1">Prev</span>
                        <span class="next" data-controls="next" aria-controls="property" tabindex="-1">Next</span>
                    </div>-->
                </div>
            </div>
        </div>
    </div>
</div>

  <section class="features-1">
    <div class="container">
      <div class="row">
        <div class="col-6 col-lg-3" data-aos="fade-up" data-aos-delay="300">
          <div class="box-feature">
            <span class="flaticon-house"></span>
            <h3 class="mb-3">Our Properties</h3>
            <p>
              Sourcing the best real-estate for our buyers and people interested in buying land and houses
            </p>
            <!--<p><a href="#" class="learn-more">Learn More</a></p>-->
          </div>
        </div>
        <div class="col-6 col-lg-3" data-aos="fade-up" data-aos-delay="500">
          <div class="box-feature">
            <span class="flaticon-building"></span>
            <h3 class="mb-3">Property for Sale</h3>
            <p>
              Find the latest and greatest on sale
            </p>
            <!--<p><a href="#" class="learn-more">Learn More</a></p>-->
          </div>
        </div>
        <div class="col-6 col-lg-3" data-aos="fade-up" data-aos-delay="400">
          <div class="box-feature">
            <span class="flaticon-house-3"></span>
            <h3 class="mb-3">Real Estate Agent</h3>
            <p>
              Connect with agents through our application
            </p>
            <!--<p><a href="#" class="learn-more">Learn More</a></p>-->
          </div>
        </div>
        <div class="col-6 col-lg-3" data-aos="fade-up" data-aos-delay="600">
          <div class="box-feature">
            <span class="flaticon-house-1"></span>
            <h3 class="mb-3">Houses for Sale</h3>
            <p>
              Find your dream house on our website
            </p>
            <!--<p><a href="#" class="learn-more">Learn More</a></p>-->
          </div>
        </div>
      </div>
    </div>
  </section>
{% endblock %}